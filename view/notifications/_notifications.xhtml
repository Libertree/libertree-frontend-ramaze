<?r
@set_keys.each do |key|
  notifications = @sets[key]
  actors = notifications.map { |n| n.subject.member }
  notif = notifications[0]
  case notif.subject
  when Libertree::Model::Comment
    ?>#{ render_partial '_comment', notifications: notifications, comment: notif.subject, actors: actors }<?r
  when Libertree::Model::CommentLike
    ?>#{ render_partial '_comment_like', notifications: notifications, like: notif.subject, actors: actors }<?r
  when Libertree::Model::Message
    ?>#{ render_partial '_message', notifications: notifications, message: notif.subject, actors: actors }<?r
  when Libertree::Model::PostLike
    ?>#{ render_partial '_post_like', notifications: notifications, like: notif.subject, actors: actors }<?r
  end
end
?>
